<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>vagga</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="my.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step step-level-1" step="0" id="title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="vagga">Vagga</h1></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><p>vagga is...</p><h1 id="virtualenv-on-steroids">Virtualenv on Steroids</h1></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><p>vagga is...</p><h1 id="a-containerization-tool-without-daemons">A Containerization Tool Without Daemons</h1></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><p>vagga is...</p><h1 id="the-higher-level-package-manager">The Higher Level Package Manager</h1></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="id1">Vagga</h1><ul><li>simple YAML config (+versioning)</li><li>user namespaces (no root/setuid)</li><li>multiple process monitoring</li><li>only for dev.env.</li></ul><p>(written in rust)</p></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><pre class="highlight code yaml"><span class="c1"># vagga.yaml</span>
<span class="l-Scalar-Plain">containers</span><span class="p-Indicator">:</span>
  <span class="s">"webpack"</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">setup</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="kt">!NpmInstall</span> <span class="p-Indicator">[</span><span class="nv">webpack</span><span class="p-Indicator">]</span>
    <span class="p-Indicator">-</span> <span class="kt">!NpmDependencies</span> <span class="s">"package.json"</span>
<span class="l-Scalar-Plain">commands</span><span class="p-Indicator">:</span>
  <span class="s">"build"</span><span class="p-Indicator">:</span> <span class="kt">!Command</span>
    <span class="l-Scalar-Plain">container</span><span class="p-Indicator">:</span> <span class="s">"webpack"</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="s">"Build</span><span class="nv"> </span><span class="s">static</span><span class="nv"> </span><span class="s">files"</span>
    <span class="l-Scalar-Plain">run</span><span class="p-Indicator">:</span> <span class="s">"webpack</span><span class="nv"> </span><span class="s">--progress</span><span class="nv"> </span><span class="s">--colors"</span></pre></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><pre class="highlight code console"><span class="gp">$</span> git clone git://github.com/.../foobar
<span class="gp">$</span> <span class="nb">cd</span> foobar
<span class="gp">$</span> vagga
<span class="go">Available commands:
    build       Build static files
    run         Run nginx+app+redis
    build-docs  Build docs
</span><span class="gp">$</span> vagga build</pre></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><pre class="highlight code console"><span class="gp">$</span> git pull
<span class="gp">$</span> vagga run</pre></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><pre class="highlight "># docker tree
-+= 00001 root systemd --system
 |-+- 10771 root docker -d
 | \--= 32029 root bash   &lt;&lt; our process
 \-+= 30029 pc tmux
   \-+= 10718 pc -zsh     &lt;&lt; our shell
     \--= 32021 pc docker run -it --rm bash</pre><pre class="highlight "># vagga tree
-+= 00001 root systemd --system
 \-+= 30029 pc tmux
   \-+= 10358 pc -zsh        &lt;&lt; our shell
     \-+= 00940 pc vagga bash
       \-+- 00941 pc vagga bash
         \--= 00942 pc bash  &lt;&lt; our process</pre></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><pre class="highlight code yaml"><span class="c1"># vagga.yaml</span>
<span class="l-Scalar-Plain">containers</span><span class="p-Indicator">:</span>
  <span class="s">"py"</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">setup</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="kt">!Ubuntu</span> <span class="l-Scalar-Plain">trusty</span>
    <span class="p-Indicator">-</span> <span class="kt">!BuildDeps</span> <span class="p-Indicator">[</span><span class="nv">base-devel</span><span class="p-Indicator">,</span> <span class="nv">cython</span><span class="p-Indicator">]</span>
    <span class="p-Indicator">-</span> <span class="kt">!PipConfig</span> <span class="p-Indicator">{</span> <span class="nv">dependencies</span><span class="p-Indicator">:</span> <span class="nv">true</span> <span class="p-Indicator">}</span>
    <span class="p-Indicator">-</span> <span class="kt">!Py3Requirements</span> <span class="s">"requirements.txt"</span></pre></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><pre class="highlight code yaml"><span class="l-Scalar-Plain">run</span><span class="p-Indicator">:</span> <span class="kt">!Supervise</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Run full server stack</span>
  <span class="l-Scalar-Plain">children</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">redis</span><span class="p-Indicator">:</span> <span class="kt">!Command</span>
      <span class="l-Scalar-Plain">container</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">redis</span>
      <span class="l-Scalar-Plain">run</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">redis-server</span><span class="p-Indicator">,</span> <span class="nv">--daemonize</span><span class="p-Indicator">,</span> <span class="nv">no</span><span class="p-Indicator">]</span>
    <span class="l-Scalar-Plain">nginx</span><span class="p-Indicator">:</span> <span class="kt">!Command</span>
      <span class="l-Scalar-Plain">container</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">nginx</span>
      <span class="l-Scalar-Plain">run</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">nginx</span><span class="p-Indicator">,</span> <span class="nv">-c</span><span class="p-Indicator">,</span> <span class="nv">/work/config/nginx.conf</span><span class="p-Indicator">]</span>
    <span class="l-Scalar-Plain">foobar</span><span class="p-Indicator">:</span> <span class="kt">!Command</span>
      <span class="l-Scalar-Plain">run</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">python</span><span class="p-Indicator">,</span> <span class="nv">-m</span><span class="p-Indicator">,</span> <span class="nv">foobar</span><span class="p-Indicator">]</span></pre></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="conventions">Conventions</h1><ul><li>vagga run</li><li>vagga test</li><li>vagga doc</li></ul></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="vagga-todo">Vagga TODO</h1><ul><li>Image Pull/Push</li><li>Testing distributed systems</li><li>Better CI integration</li></ul></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><img src="vagga.svg" width="500"></img><ul><li><a href="http://github.com/tailhook/vagga">http://github.com/tailhook/vagga</a></li><li><a href="http://vagga.readthedocs.org">http://vagga.readthedocs.org</a></li></ul></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>